---
alwaysApply: true
---

# Project Structure & Organization

## Root Directory Layout

```
├── app/                    # Next.js App Router
├── components/             # Reusable React components
├── lib/                    # Utility libraries and configurations
├── hooks/                  # Custom React hooks
├── utils/                  # Pure utility functions
├── types/                  # TypeScript type definitions
├── db/schema               # Database schema
├── public/                 # Static assets
└── .kiro/                  # Kiro IDE configuration
```

## App Directory Structure (Next.js App Router)

```
app/
├── (public)/              # Public routes (no auth required)
│   ├── explorar/          # Product catalog browsing
│   ├── negocio/           # Individual business pages
│   └── producto/          # Individual product pages
├── auth/                  # Authentication pages
│   ├── signin/            # Login page
│   ├── signup/            # Registration page
│   └── business-setup/    # Business onboarding
├── dashboard/             # Protected business dashboard
│   ├── products/          # Product management
│   ├── analytics/         # Business analytics
│   ├── subscription/      # Plan management
│   └── profile/           # Business profile settings
├── admin/                 # Admin panel (super admin only)
├── api/                   # API routes
│   ├── auth/              # Better-Auth endpoints
│   └── webhooks/          # Payment webhooks
├── actions/               # Server Actions
├── data/                  # Data fetching functions
├── schemas/               # Zod validation schemas
```

## Component Organization

```
components/
├── ui/                    # Shadcn/UI base components
├── auth/                  # Authentication-related components
├── dashboard/             # Dashboard-specific components
├── public/                # Public-facing components
├── admin/                 # Admin panel components
├── table/                 # Data table components
├── uploader/              # File upload components
├── skeletons/             # Loading state components
└── empty-state/           # Empty state components
```

## Key Conventions

### File Naming
- **kebab-case** for files and folders
- **PascalCase** for React components
- **camelCase** for functions and variables
- **SCREAMING_SNAKE_CASE** for constants

### Component Structure
- One component per file
- Export component as default
- Co-locate related types in same file
- Use `tsx` extension for components with JSX



### Authentication Flow
- Better-Auth handles session management
- Protected routes use middleware
- User roles: USER, BUSINESS, ADMIN, SUPER_ADMIN
- Business setup required after registration

### API Patterns
- Server Actions in `app/actions/`
- API routes for webhooks and external integrations
- Data fetching functions in `app/data/`
- Validation schemas in `app/schemas/`

### Styling Conventions
- Tailwind CSS v4 with utility-first approach
- Component variants using Class Variance Authority
- Consistent spacing and color tokens
- Responsive design patterns

### Import Patterns
- Use `@/` alias for root imports
- Group imports: external, internal, relative
- Organize imports with Biome auto-sorting