# Gitflow - Flujo de trabajo recomendado

Este documento describe un flujo de trabajo Gitflow simple y efectivo para equipos de desarrollo, ideal para mantener un proyecto limpio, organizado y con producciÃ³n estable.

---

## 1ï¸âƒ£ Clonar el repositorio desde cero

Si perdiste tu carpeta `.git` o querÃ©s empezar limpio:

```bash
# Clonamos solo la Ãºltima versiÃ³n de main (sin historial antiguo)
git clone --depth=1 https://github.com/ivan2214/Lules-Market.git
cd Lules-Market
````

---

## 2ï¸âƒ£ Crear la rama de desarrollo `dev`

* `main` â†’ rama de producciÃ³n
* `dev` â†’ rama de integraciÃ³n de cambios antes de pasar a producciÃ³n

```bash
git checkout -b dev      # Crear rama dev local
git push -u origin dev   # Subir al remoto y establecer upstream
```

---

## 3ï¸âƒ£ Crear ramas de features

Para cualquier nueva funcionalidad, creamos una rama a partir de `dev`:

```bash
git checkout dev
git checkout -b feature/nombre-de-la-feature
```

TrabajÃ¡s en la feature y haces commits normalmente:

```bash
git add .
git commit -m "feat: descripciÃ³n del cambio"
git push -u origin feature/nombre-de-la-feature
```

---

## 4ï¸âƒ£ Mantener la rama de feature sincronizada con `dev`

Antes de subir tu feature o abrir un PR, asegurate de tener los Ãºltimos cambios de dev:

* **OpciÃ³n 1: Merge** (historial con commits de merge)

```bash
git checkout feature/nombre-de-la-feature
git merge dev
```

* **OpciÃ³n 2: Rebase** (historial lineal, mÃ¡s limpio)

```bash
git checkout feature/nombre-de-la-feature
git fetch origin dev
git rebase origin/dev
```

> âš ï¸ Solo hacÃ© rebase en ramas locales que no hayan sido compartidas o, si ya subiste la rama, recordÃ¡ usar `git push -f` despuÃ©s del rebase.

---

## 5ï¸âƒ£ Pull Requests (PR) y tipo de merge

Cuando la feature estÃ¡ lista, se hace **Pull Request hacia `dev`**:

* **Feature â†’ Dev:**

  * **Merge recomendado:** `Squash and merge` âœ…
  * **Por quÃ©:** mantiene `dev` limpia, un commit por feature, evita commits intermedios sucios.

Cuando dev estÃ¡ estable y testeada, se hace **PR de `dev` â†’ `main`**:

* **Dev â†’ Main:**

  * **Merge recomendado:** `Create a merge commit (--no-ff)` âœ…
  * **Por quÃ©:** mantiene histÃ³rico de todas las features integradas, reflejando exactamente cuÃ¡ndo dev se pasÃ³ a producciÃ³n.

> ğŸ’¡ Tip: Siempre actualizÃ¡ tu rama antes de abrir un PR, usando merge o rebase segÃºn prefieras.

---

## 6ï¸âƒ£ Integrar `dev` en `main` (ProducciÃ³n)

DespuÃ©s de aprobar el PR de dev â†’ main:

```bash
git checkout main
git pull origin main
git merge --no-ff dev    # Mantener histÃ³rico de merges
git push origin main
```

---

## 7ï¸âƒ£ Mantener ramas actualizadas

Cada vez que trabajes:

```bash
# Actualizar dev con cambios remotos
git checkout dev
git pull origin dev

# Actualizar feature con dev (merge o rebase)
git checkout feature/nombre-de-la-feature
git merge dev          # o git rebase dev
```

Esto evita conflictos grandes y mantiene el cÃ³digo limpio.

---

## 8ï¸âƒ£ Resumen de ramas y flujo

* **main** â†’ ProducciÃ³n, estable.
* **dev** â†’ IntegraciÃ³n, testeos antes de producciÃ³n.
* **feature/** â†’ Desarrollo de nuevas funcionalidades.

**Flujo tÃ­pico:**

1. Crear feature desde dev
2. Hacer commits en feature
3. Mantener feature actualizada con dev (**merge o rebase**)
4. PR de feature â†’ dev (**Squash and merge**)
5. Testear dev
6. PR de dev â†’ main (**Merge commit --no-ff**)
7. Deploy a producciÃ³n desde main

---

## 9ï¸âƒ£ Consejos adicionales

* Usar nombres claros en las ramas: `feature/login`, `feature/cart`, `hotfix/bug-123`.
* Hacer commits pequeÃ±os y claros.
* Siempre actualizar tu rama antes de mergear: `git pull origin dev` o rebase.
* Mantener main limpia y estable, solo merges testeados desde dev.

---

Este flujo mantiene el proyecto organizado, facilita trabajo en equipo y asegura una producciÃ³n estable.
